(this["webpackJsonpcontrol-capacitacion"]=this["webpackJsonpcontrol-capacitacion"]||[]).push([[22],{1329:function(e,a,r){"use strict";r.r(a);var n=r(21),s=r(27),t=r(2),o=r(0),c=r(198),i=r(844),u=r.n(i),l=r(518),d=r(427),p=r(845),w=r.n(p),b=r(318),m=r(520),j=r(85),f=r.n(j),h={password:"",newPassword:"",confirmNewPassword:""};a.default=function(e){var a=Object(o.useState)({openSnackBar:!1,snackBarMessage:"",severity:""}),r=Object(s.a)(a,2),i=r[0],p=r[1],j=Object(o.useState)(!1),v=Object(s.a)(j,2),g=v[0],O=v[1],P=Object(o.useState)(!1),x=Object(s.a)(P,2),C=x[0],_=x[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=Object(n.a)({},B);if("password"in e&&(a.password=e.password.length>5?"":"La contrase\xf1a debe contener al menos 6 caracteres"),y.newPassword===y.confirmNewPassword?y.newPassword.length<6||y.confirmNewPassword.length<6?(a.newPassword="La contrase\xf1a debe contener al menos 6 caracteres",a.confirmNewPassword="La contrase\xf1a debe contener al menos 6 caracteres"):(a.newPassword="",a.confirmNewPassword=""):y.newPassword!=y.confirmNewPassword&&(a.newPassword="Las contrase\xf1as no coinciden",a.confirmNewPassword="Las contrase\xf1as no coinciden"),L(Object(n.a)({},a)),e==y)return Object.values(a).every((function(e){return""==e}))},k=Object(d.b)(h,!0,N),y=k.values,S=k.resetForm,B=k.errors,L=k.setErrors,M=k.handleInputChange,E=Object(t.jsxs)(d.a,{className:u.a.form,onSubmit:function(e){if(e.preventDefault(),N()){O((function(e){return!e}));var a={password:y.password,newPassword:y.newPassword};f.a.post("/auth/change-password",a).then((function(e){O((function(e){return!e})),p({openSnackBar:!0,severity:"success",snackBarMessage:"Contrase\xf1a cambiada correctamente"})})).catch((function(e){O((function(e){return!e})),e.response?p({openSnackBar:!0,severity:"error",snackBarMessage:e.response.data.message}):e.request?window.alert("Error: "+e.request.data.message):console.log("Error: "+e.message),console.log(e.config)})),S(h)}},children:[Object(t.jsx)("h1",{children:"Cambiar contrase\xf1a"}),Object(t.jsx)(l.a,{fullWidth:!0,name:"password",placeholder:"Contrase\xf1a actual",label:"Contrase\xf1a actual",type:C?"text":"password",value:y.password,onChange:M,inputProps:{maxLength:20},error:B.password}),Object(t.jsx)(l.a,{name:"newPassword",placeholder:"Nueva contrase\xf1a",label:"Nueva contrase\xf1a",type:C?"text":"password",value:y.newPassword,onChange:M,inputProps:{maxLength:20},error:B.newPassword}),Object(t.jsx)(l.a,{name:"confirmNewPassword",placeholder:"Confirmar contrase\xf1a",label:"Confirmar contrase\xf1a",type:C?"text":"password",value:y.confirmNewPassword,onChange:M,inputProps:{maxLength:20},error:B.confirmNewPassword}),Object(t.jsx)(c.a,{variant:"contained",color:"primary",className:u.a.submit,style:{marginTop:"15px"},onClick:function(){_((function(e){return!e}))},children:Object(t.jsx)(w.a,{})}),Object(t.jsx)(c.a,{type:"submit",variant:"contained",color:"primary",className:u.a.submit,style:{marginTop:"15px"},children:"ACEPTAR"})]});return g&&(E=Object(t.jsx)(b.a,{})),Object(t.jsxs)("div",{className:u.a.paper,children:[E,Object(t.jsx)(m.a,{openSnackBar:i.openSnackBar,closeSnackBar:function(){return p({openSnackBar:!1})},snackBarMessage:i.snackBarMessage,severity:i.severity})]})}},318:function(e,a,r){"use strict";var n=r(2),s=r(424),t=r.n(s);a.a=function(){return Object(n.jsx)("div",{className:t.a.loader,children:"Loading..."})}},424:function(e,a,r){e.exports={loader:"Spinner_loader__1sqt0",load6:"Spinner_load6__1ismh",round:"Spinner_round__3laPx"}},427:function(e,a,r){"use strict";r.d(a,"b",(function(){return l})),r.d(a,"a",(function(){return p}));var n=r(3),s=r(16),t=r(21),o=r(27),c=r(2),i=r(0),u=r(197);function l(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=Object(i.useState)(e),c=Object(o.a)(n,2),u=c[0],l=c[1],d=Object(i.useState)({}),p=Object(o.a)(d,2),w=p[0],b=p[1],m=function(e){var n=e.target,o=n.name,c=n.value;l(Object(t.a)(Object(t.a)({},u),{},Object(s.a)({},o,c))),a&&r(Object(s.a)({},o,c))},j=function(){l(e),b({})};return{values:u,setValues:l,errors:w,setErrors:b,handleInputChange:m,resetForm:j}}var d=Object(u.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}}}));function p(e){var a=d(),r=(e.children,Object(n.a)(e,["children"]));return Object(c.jsx)("form",Object(t.a)(Object(t.a)({className:a.root,autoComplete:"off"},r),{},{children:e.children}))}},518:function(e,a,r){"use strict";r.d(a,"a",(function(){return c}));var n=r(21),s=r(2),t=(r(0),r(434)),o={width:"85%",margin:"15px"};function c(e){var a=e.name,r=e.label,c=e.placeholder,i=e.value,u=e.error,l=void 0===u?null:u,d=e.onChange,p=e.type,w=e.disabled,b=e.inputProps,m=e.InputLabelProps,j=e.className;return Object(s.jsx)(t.a,Object(n.a)({className:j,disabled:w,style:o,variant:"outlined",label:r,placeholder:c,name:a,value:i,onChange:d,type:p,inputProps:b,InputLabelProps:m},l&&{error:!0,helperText:l}))}},520:function(e,a,r){"use strict";var n=r(21),s=r(2),t=(r(0),r(841)),o=r(581),c=function(e){return Object(s.jsx)(o.a,Object(n.a)({elevation:6,variant:"filled"},e))};a.a=function(e){var a=e.openSnackBar,r=e.closeSnackBar,n=e.snackBarMessage,o=e.severity;return Object(s.jsx)(t.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:a,autoHideDuration:6e3,onClose:r,children:Object(s.jsx)(c,{onClose:r,severity:o,children:n})})}},844:function(e,a,r){e.exports={"MuiContainer-root":"ChangePassword_MuiContainer-root__3jQdA",paper:"ChangePassword_paper__3J49k",form:"ChangePassword_form__3zvQL",submit:"ChangePassword_submit__1tq5X"}}}]);
//# sourceMappingURL=22.b334e080.chunk.js.map